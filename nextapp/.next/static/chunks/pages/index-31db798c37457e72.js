(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9287)}])},9287:(e,s,t)=>{"use strict";t.r(s),t.d(s,{__N_SSG:()=>o,default:()=>n});var a=t(7876),l=t(4232),o=!0;function n(e){let{initialPosts:s,totalPages:t}=e,[o,n]=(0,l.useState)(s),[c,r]=(0,l.useState)(1),[i,d]=(0,l.useState)(!1),[h,m]=(0,l.useState)(t>1);(0,l.useEffect)(()=>{m(c<t)},[c,t]);let p=async()=>{var e;if(console.log("Loading more..."),i||c>=t)return;d(!0);let s=c+1,a=await fetch("http://localhost:8080/wp-json/nextapp/v1/projects?page=".concat(s,"&per_page=2")),l=null!=(e=(await a.json()).posts)?e:[];l.length>0&&n(e=>[...e,...l]),r(s),m(s<t),d(!1)};return console.log("Posts:",o),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Popular Projects list"}),(0,a.jsx)("div",{className:"space-y-6",children:o.map(e=>(0,a.jsxs)("div",{className:"border-b pb-4",children:[e.thumbnail&&(0,a.jsx)("img",{className:"w-[150px] h-[100px] object-cover rounded-md mb-2",width:150,height:100,src:e.thumbnail,alt:e.title}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-1",children:e.title}),(0,a.jsx)("strong",{className:"text-gray-500 block mb-2",children:e.date}),(0,a.jsx)("p",{className:"text-gray-700",children:e.excerpt}),(0,a.jsx)("hr",{})]},e.id))}),h?(0,a.jsx)("button",{className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 load-more-btn",onClick:p,disabled:i,children:i?"Loading...":"Load More"}):(0,a.jsx)("span",{className:"hidden",children:"No more posts."})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=2936)),_N_E=e.O()}]);