(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9287)}])},9287:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSG:()=>a,default:()=>o});var n=s(7876),l=s(4232),a=!0;function o(e){let{initialPosts:t,totalPages:s}=e,[a,o]=(0,l.useState)(t),[i,r]=(0,l.useState)(1),[c,h]=(0,l.useState)(!1),[d,u]=(0,l.useState)(s>1);(0,l.useEffect)(()=>{u(i<s)},[i,s]);let p=async()=>{var e;if(console.log("Loading more..."),c||i>=s)return;h(!0);let t=i+1,n=await fetch("http://localhost:8080/wp-json/nextapp/v1/projects?page=".concat(t,"&per_page=2")),l=null!=(e=(await n.json()).posts)?e:[];l.length>0&&o(e=>[...e,...l]),r(t),u(t<s),h(!1)};return console.log("Posts:",a),(0,n.jsxs)("main",{children:[(0,n.jsx)("h1",{children:"Popular Projects"}),(0,n.jsx)("div",{children:a.map(e=>(0,n.jsxs)("div",{children:[e.thumbnail&&(0,n.jsx)("img",{width:150,height:100,src:e.thumbnail,alt:e.title}),(0,n.jsx)("h3",{children:e.title}),(0,n.jsx)("strong",{children:e.date}),(0,n.jsx)("p",{children:e.excerpt}),(0,n.jsx)("hr",{})]},e.id))}),d?(0,n.jsx)("button",{className:"load-more-btn",onClick:p,disabled:c,children:c?"Loading...":"Load More"}):(0,n.jsx)("p",{children:"No more posts."})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=2936)),_N_E=e.O()}]);